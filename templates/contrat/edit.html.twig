{% extends 'base.html.twig' %}

{% block body %}
    <h1>Edition {{ titre }} </h1>
    
    {{ form_start(edit_form) }}
        {{ form_errors(edit_form) }}
        <div>
        {{ form_label(edit_form.personne) }}
        {{ form_errors(edit_form.personne) }}
        {{ form_widget(edit_form.personne) }}
        </div>
            <h3>Lignes contrat</h3>
           <ul class="lignes" data-prototype="{{ form_widget(edit_form.lignes.vars.prototype)|e('html_attr') }}">
            {# iterate over each existing Line and render its fields #}
            {% for lignecontrat in edit_form.lignes %}
                <li>{{ form_row(lignecontrat.produit) }} - {{ form_row(lignecontrat.nombre) }}</li>
            {% endfor %}
        </ul>
        <input type="submit" value="Save" />
    {{ form_end(edit_form) }}

{% endblock %}
{% block custompage_script %}
{% include 'contrat/contrat_form.js.twig' %}
{% endblock %}